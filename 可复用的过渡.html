<!DOCTYPE html>
<html>
<head>
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<title>可复用过度</title>
</head>
<body>
<div id="demo">
	<button v-on:click="show =!show">点击它</button>
	<p v-if="show">hello</p>
	<my-special-transition>这里是插槽内容
	</my-special-transition>
</div>
</body>
<script>
	Vue.component('my-special-transition',{
		template:
		'<transition\
			name="very-special-transition"\
			mode="out-in"\
			v-on:before-enter="beforeEnter"\
			v-on:after-enter="afterEnter"\
			>\
			<slot></slot>\
			</transition>',
		methods:{
			beforeEnter:function (el) {
				el.style.opacity =0
			},
			afterEnter:function(el){
				el.style.opacity =5
			}
		}
	})
	new Vue({
		el:"#demo",
		data:{
			show:true
		}
	})
</script>
</html>